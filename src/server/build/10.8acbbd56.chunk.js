(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{313:function(e,t,a){},363:function(e,t,a){},381:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(8),l=a(14),s=a(5),r=a(7),i=a(1);a(363),a(313);const d=10;t.default=Object(c.b)(e=>e.login)(function(e){const t=Object(r.f)(),{current:a}=Object(n.useRef)(window.location.pathname.split("/")[2]);let[c,p]=Object(n.useState)([]),[m,h]=Object(n.useState)(0),[u,b]=Object(n.useState)(!1),[v,f]=Object(n.useState)(null);return Object(n.useEffect)(()=>{(async()=>{l(`/api/feedback/posts/${a}?from=${m}&amount=${d}`).then(({data:e})=>{p([...c,...e.posts]),b(e.all)})})()},[m]),Object(n.useEffect)(()=>{l("/api/feedback/categories").then(e=>{f(e.data)})},[]),v&&!v.includes(a)&&window.location.replace("/feedback"),o.a.createElement("div",{id:"feedback-category"},o.a.createElement("div",{id:"feedback-category-head"},o.a.createElement("h1",{id:"feedback-category-head-title"},a.replace(a[0],a[0].toUpperCase())," Feedback"),o.a.createElement("div",{id:"feedback-category-head-button"},o.a.createElement(i.b,{id:"feedback-category-head-button-create",to:"/feedback/new"},"New post"),o.a.createElement("span",{id:"feedback-category-head-button-bg"}))),c.map((a,n)=>o.a.createElement("div",{key:a._id,className:"feedback-post",onClick:()=>t.push(`/feedback/p/${a._id}`)},o.a.createElement("div",{className:"feedback-post-content"},o.a.createElement("h3",{className:"feedback-post-content-title"},a.title),o.a.createElement("p",{className:"feedback-post-content-description"},a.description)),o.a.createElement("div",{className:"feedback-post-stats"},o.a.createElement("div",{className:"feedback-post-stats-comments"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},o.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10"}),o.a.createElement("path",{d:"M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2"})),o.a.createElement("p",{className:"feedback-post-stats-comments-count"},a.comments)),o.a.createElement("div",{className:a.upvoted?"feedback-post-stats-button upvoted":"feedback-post-stats-button",onClick:t=>(async t=>{if(!e.loggedIn)return s.b.dark(o.a.createElement("p",null,o.a.createElement("svg",{viewBox:"0 0 16 16",fill:"currentColor",style:{display:"inline-block",verticalAlign:"middle",width:"20px",height:"20px",boxSizing:"border-box",margin:"10px",color:"rgb(233, 76, 88)"}},o.a.createElement("path",{fillRule:"evenodd",d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zm-6.106 4.5a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"})),o.a.createElement("span",{style:{display:"inline-block",verticalAlign:"middle"}},"You need to be logged in!")),{position:"top-right",autoClose:1e4,hideProgressBar:!0,pauseOnHover:!0,draggable:!0,progress:void 0,toastId:"upvoteState"});l.patch(`/api/feedback/post/upvote/${t}`).then(({data:e})=>{const a=c.find(e=>e._id===t);a.upvotes+=e.upvote,a.upvoted=1==e.upvote,p([...c])})})(a._id)&&t.stopPropagation()},a.upvoted?o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},o.a.createElement("path",{d:"M4 14h4v7a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7h4a1.001 1.001 0 0 0 .781-1.625l-8-10c-.381-.475-1.181-.475-1.562 0l-8 10A1.001 1.001 0 0 0 4 14z"})):o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},o.a.createElement("path",{d:"M12.781 2.375c-.381-.475-1.181-.475-1.562 0l-8 10A1.001 1.001 0 0 0 4 14h4v7a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7h4a1.001 1.001 0 0 0 .781-1.625l-8-10zM15 12h-1v8h-4v-8H6.081L12 4.601 17.919 12H15z"})),o.a.createElement("p",null,a.upvotes))))),!u&&o.a.createElement("p",{onClick:async()=>{h(m+d)},style:{textAlign:"center",cursor:"pointer"}},"Load More Posts"),o.a.createElement(s.a,null))})}}]);